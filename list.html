<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="styles/styles.css"></style>
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
	<script src="build/react-with-addons.js"></script>
	<script src="build/JSXTransformer.js"></script>
</head>
<body>
	<div id="example"></div>
	<script type="text/jsx">
		window.React = React;
		var ReactCSSTransitionGroup = React.addons.CSSTransitionGroup;

		var FilteredList = React.createClass({
			filterList: function(event){
				var updatedList = this.state.initialItems;
				updatedList = updatedList.filter(function(item){
					return item.desc.toLowerCase().search(
						event.target.value.toLowerCase()) !== -1;
				});
				this.setState({items: updatedList});
			},
			getInitialState: function(){
				return {
					initialItems: [
					{ key:1, desc:"Apples", url:"" },
					{ key:2, desc:"Broccoli", url:"" },
					{ key:3, desc:"Chicken", url:"" },
					{ key:4, desc:"Duck", url:"" },
					{ key:5, desc:"Eggs", url:"" },
					{ key:6, desc:"Fish", url:"" },
					{ key:7, desc:"Granola", url:"" },
					{ key:8, desc:"Hash Browns", url:"" }
					],
					items: []
				}
			},
			componentWillMount: function(){
				this.setState({items: this.state.initialItems})
			},
			render: function(){
				return (
					<div className="filter-list">
						<input type="text" placeholder="Search" onChange={this.filterList}/>						
							<List items={this.state.items} key={this.state}/>
					</div>
					);
			}
		});

		var List = React.createClass({
			render: function(){
				return (
					<ul>
						<ReactCSSTransitionGroup transitionName="example">
						{
							this.props.items.map(function(item) {
								return <li key={item.key}>
									{item.desc}
									<i className="fa fa-envelope-o"></i>
									</li>
							})
						}
						</ReactCSSTransitionGroup>
					</ul>
					)  
			}
		});

		React.render(<FilteredList/>, document.getElementById('example'));
	</script>
</body>
</html>